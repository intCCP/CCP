/* Formatted on 17/06/2014 18:14:57 (QP5 v5.227.12220.39754) */
CREATE OR REPLACE FORCE VIEW MCRE_OWN.VTMCRE0_APP_ALERT_POS
(
   COD_ABI_CARTOLARIZZATO,
   COD_NDG,
   COD_SNDG,
   ALERT_1,
   COD_STATO_1,
   DTA_INS_1,
   DTA_UPD_1,
   FLG_WORSE_UPD_1,
   ALERT_2,
   COD_STATO_2,
   DTA_INS_2,
   DTA_UPD_2,
   FLG_WORSE_UPD_2,
   ALERT_3,
   COD_STATO_3,
   DTA_INS_3,
   DTA_UPD_3,
   FLG_WORSE_UPD_3,
   ALERT_4,
   COD_STATO_4,
   DTA_INS_4,
   DTA_UPD_4,
   FLG_WORSE_UPD_4,
   ALERT_5,
   COD_STATO_5,
   DTA_INS_5,
   DTA_UPD_5,
   FLG_WORSE_UPD_5,
   COD_ABI_ISTITUTO,
   ALERT_6,
   COD_STATO_6,
   DTA_INS_6,
   DTA_UPD_6,
   FLG_WORSE_UPD_6,
   ALERT_7,
   COD_STATO_7,
   DTA_INS_7,
   DTA_UPD_7,
   FLG_WORSE_UPD_7,
   ALERT_8,
   COD_STATO_8,
   DTA_INS_8,
   DTA_UPD_8,
   FLG_WORSE_UPD_8,
   ALERT_9,
   COD_STATO_9,
   DTA_INS_9,
   DTA_UPD_9,
   FLG_WORSE_UPD_9,
   ALERT_10,
   COD_STATO_10,
   DTA_INS_10,
   DTA_UPD_10,
   FLG_WORSE_UPD_10,
   ALERT_11,
   COD_STATO_11,
   DTA_INS_11,
   DTA_UPD_11,
   FLG_WORSE_UPD_11,
   ALERT_12,
   COD_STATO_12,
   DTA_INS_12,
   DTA_UPD_12,
   FLG_WORSE_UPD_12,
   ALERT_13,
   COD_STATO_13,
   DTA_INS_13,
   DTA_UPD_13,
   FLG_WORSE_UPD_13,
   ALERT_14,
   COD_STATO_14,
   DTA_INS_14,
   DTA_UPD_14,
   FLG_WORSE_UPD_14,
   ALERT_15,
   COD_STATO_15,
   DTA_INS_15,
   DTA_UPD_15,
   FLG_WORSE_UPD_15,
   ALERT_16,
   COD_STATO_16,
   DTA_INS_16,
   DTA_UPD_16,
   FLG_WORSE_UPD_16,
   ALERT_17,
   COD_STATO_17,
   DTA_INS_17,
   DTA_UPD_17,
   FLG_WORSE_UPD_17,
   ALERT_18,
   COD_STATO_18,
   DTA_INS_18,
   DTA_UPD_18,
   FLG_WORSE_UPD_18,
   ALERT_19,
   COD_STATO_19,
   DTA_INS_19,
   DTA_UPD_19,
   FLG_WORSE_UPD_19,
   ALERT_20,
   COD_STATO_20,
   DTA_INS_20,
   DTA_UPD_20,
   FLG_WORSE_UPD_20,
   ALERT_21,
   COD_STATO_21,
   DTA_INS_21,
   DTA_UPD_21,
   FLG_WORSE_UPD_21,
   ALERT_22,
   COD_STATO_22,
   DTA_INS_22,
   DTA_UPD_22,
   FLG_WORSE_UPD_22,
   ALERT_23,
   COD_STATO_23,
   DTA_INS_23,
   DTA_UPD_23,
   FLG_WORSE_UPD_23,
   ALERT_24,
   COD_STATO_24,
   DTA_INS_24,
   DTA_UPD_24,
   FLG_WORSE_UPD_24,
   ALERT_25,
   DTA_INS_25,
   DTA_UPD_25,
   COD_STATO_25,
   FLG_WORSE_UPD_25,
   ID_UTENTE,
   ID_UTENTE_PRE,
   ID_REFERENTE,
   COD_COMPARTO_POSIZIONE,
   COD_COMPARTO_POSIZIONE_PRE,
   COD_COMPARTO_UTENTE,
   COD_COMPARTO_UTENTE_PRE,
   COD_RAMO_CALCOLATO
)
AS
   SELECT /*+ordered no_parallel(a) no_parallel(u) no_parallel(up)*/
                                                -- V1 02/12/2010 VG: Congelata
                                                     -- V2 22/12/2010 VG: Ramo
                                    -- V3 08/02/2011 VG: Tutti gli alert nuovi
                                    -- V3 12/04/2011 VG: Tutti gli alert nuovi
                                    -- V4 03/05/2011 VG: Tutti gli alert nuovi
         A.COD_ABI_CARTOLARIZZATO,
         A.COD_NDG,
         A.COD_SNDG,
         A.ALERT_1,
         A.COD_STATO_1,
         A.DTA_INS_1,
         A.DTA_UPD_1,
         A.FLG_WORSE_UPD_1,
         A.ALERT_2,
         A.COD_STATO_2,
         A.DTA_INS_2,
         A.DTA_UPD_2,
         A.FLG_WORSE_UPD_2,
         A.ALERT_3,
         A.COD_STATO_3,
         A.DTA_INS_3,
         A.DTA_UPD_3,
         A.FLG_WORSE_UPD_3,
         A.ALERT_4,
         A.COD_STATO_4,
         A.DTA_INS_4,
         A.DTA_UPD_4,
         A.FLG_WORSE_UPD_4,
         A.ALERT_5,
         A.COD_STATO_5,
         A.DTA_INS_5,
         A.DTA_UPD_5,
         A.FLG_WORSE_UPD_5,
         A.COD_ABI_ISTITUTO,
         A.ALERT_6,
         A.COD_STATO_6,
         A.DTA_INS_6,
         A.DTA_UPD_6,
         A.FLG_WORSE_UPD_6,
         A.ALERT_7,
         A.COD_STATO_7,
         A.DTA_INS_7,
         A.DTA_UPD_7,
         A.FLG_WORSE_UPD_7,
         A.ALERT_8,
         A.COD_STATO_8,
         A.DTA_INS_8,
         A.DTA_UPD_8,
         A.FLG_WORSE_UPD_8,
         A.ALERT_9,
         A.COD_STATO_9,
         A.DTA_INS_9,
         A.DTA_UPD_9,
         A.FLG_WORSE_UPD_9,
         A.ALERT_10,
         A.COD_STATO_10,
         A.DTA_INS_10,
         A.DTA_UPD_10,
         A.FLG_WORSE_UPD_10,
         A.ALERT_11,
         A.COD_STATO_11,
         A.DTA_INS_11,
         A.DTA_UPD_11,
         A.FLG_WORSE_UPD_11,
         A.ALERT_12,
         A.COD_STATO_12,
         A.DTA_INS_12,
         A.DTA_UPD_12,
         A.FLG_WORSE_UPD_12,
         A.ALERT_13,
         A.COD_STATO_13,
         A.DTA_INS_13,
         A.DTA_UPD_13,
         A.FLG_WORSE_UPD_13,
         A.ALERT_14,
         A.COD_STATO_14,
         A.DTA_INS_14,
         A.DTA_UPD_14,
         A.FLG_WORSE_UPD_14,
         A.ALERT_15,
         A.COD_STATO_15,
         A.DTA_INS_15,
         A.DTA_UPD_15,
         A.FLG_WORSE_UPD_15,
         A.ALERT_16,
         A.COD_STATO_16,
         A.DTA_INS_16,
         A.DTA_UPD_16,
         A.FLG_WORSE_UPD_16,
         A.ALERT_17,
         A.COD_STATO_17,
         A.DTA_INS_17,
         A.DTA_UPD_17,
         A.FLG_WORSE_UPD_17,
         A.ALERT_18,
         A.COD_STATO_18,
         A.DTA_INS_18,
         A.DTA_UPD_18,
         A.FLG_WORSE_UPD_18,
         A.ALERT_19,
         A.COD_STATO_19,
         A.DTA_INS_19,
         A.DTA_UPD_19,
         A.FLG_WORSE_UPD_19,
         A.ALERT_20,
         A.COD_STATO_20,
         A.DTA_INS_20,
         A.DTA_UPD_20,
         A.FLG_WORSE_UPD_20,
         A.ALERT_21,
         A.COD_STATO_21,
         A.DTA_INS_21,
         A.DTA_UPD_21,
         A.FLG_WORSE_UPD_21,
         A.ALERT_22,
         A.COD_STATO_22,
         A.DTA_INS_22,
         A.DTA_UPD_22,
         A.FLG_WORSE_UPD_22,
         A.ALERT_23,
         A.COD_STATO_23,
         A.DTA_INS_23,
         A.DTA_UPD_23,
         A.FLG_WORSE_UPD_23,
         A.ALERT_24,
         A.COD_STATO_24,
         A.DTA_INS_24,
         A.DTA_UPD_24,
         A.FLG_WORSE_UPD_24,
         A.ALERT_25,
         A.DTA_INS_25,
         A.DTA_UPD_25,
         A.COD_STATO_25,
         A.FLG_WORSE_UPD_25,
         G.ID_UTENTE,
         G.ID_UTENTE_PRE,
         U.ID_REFERENTE,
         G.COD_COMPARTO COD_COMPARTO_POSIZIONE,
         G.COD_COMPARTO_CALCOLATO_PRE COD_COMPARTO_POSIZIONE_PRE,
         --  NVL (g.cod_comparto_assegn, g.cod_comparto_appart)              cod_comparto_utente,
         U.COD_COMPARTO_UTENTE,
         UP.COD_COMPARTO_UTENTE COD_COMPARTO_UTENTE_PRE,
         G.COD_RAMO_CALCOLATO
    FROM T_MCRE0_APP_ALERT_POS A,
         VTMCRE0_APP_UPD_FIELDS_P1 G,                                       --
         T_MCRE0_APP_UTENTI U,
         T_MCRE0_APP_UTENTI UP
   -- V_MCRE0_APP_UPD_FIELDS_PALL            g
   WHERE     A.COD_ABI_CARTOLARIZZATO = G.COD_ABI_CARTOLARIZZATO
         AND A.COD_NDG = G.COD_NDG
         --   AND g.id_utente = g.id_utente(+)
         AND G.ID_UTENTE = U.ID_UTENTE
         AND G.ID_UTENTE_PRE = UP.ID_UTENTE;


GRANT DELETE, INSERT, REFERENCES, SELECT, UPDATE, ON COMMIT REFRESH, QUERY REWRITE, DEBUG, FLASHBACK ON MCRE_OWN.VTMCRE0_APP_ALERT_POS TO MCRE_USR;
